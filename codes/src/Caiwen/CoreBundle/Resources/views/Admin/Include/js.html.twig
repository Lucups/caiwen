<script type="text/javascript">

    function loadNewsListPage() {
        var url = '{{ path('_admin_news_list') }}';
        var bc_arr = [
            ['{{ path('_admin_index') }}', '管理首页'],
            ['#', '新闻管理'],
            ['*', '新闻列表']
        ];
        loadAjax(url, generateBC(bc_arr), '新闻列表');
    }

    function loadPhotoListPage(album_id){
        var title = '';
        switch (album_id){
            case 1:
                title = '白菜病害';
                break;
            case 2:
                title = '白菜虫害';
                break;
            case 3:
                title = '杂草识别';
                break;
        }
        var url = '{{ path('_admin_photo_list') }}';
        var bc_arr = [
            ['{{ path('_admin_index') }}', '管理首页'],
            ['#', '图文管理'],
            ['*', title]
        ];
        loadAjax(url, generateBC(bc_arr), title);
    }

    function loadDocsListPage(){
        var url = '{{ path('_admin_docs_list') }}';
        var bc_arr = [
            ['{{ path('_admin_index') }}', '管理首页'],
            ['#', '文献管理'],
            ['*', '文献列表']
        ];
        loadAjax(url, generateBC(bc_arr), '文献列表');
    }

    function loadFaqListPage(){
        var url = '{{ path('_admin_faq_list') }}';
        var bc_arr = [
            ['{{ path('_admin_index') }}', '管理首页'],
            ['#', '问答管理'],
            ['*', '问答列表']
        ];
        loadAjax(url, generateBC(bc_arr), '问答列表');
    }

    function loadFaqWaitPage(){
        var url = '{{ path('_admin_faq_wait') }}';
        var bc_arr = [
            ['{{ path('_admin_index') }}', '管理首页'],
            ['#', '问答管理'],
            ['*', '等待回答']
        ];
        loadAjax(url, generateBC(bc_arr), '等待回答');
    }

    /**
     * 封装 ajax 请求
     */
    function loadAjax(url, bc, title) {
        $.ajax({
            url: url,
            method: 'GET',
            success: function (msg) {
                $('#page-title').text(title);
                $('#bread-crumb').html(bc);
                $('#body-content').html(msg);
            }
        });
    }

    /**
     * 封装面包屑
     * @param bc_arr
     * @returns {string}
     */
    function generateBC(bc_arr) {
        var bc = '';
        for (var i = 0; i < bc_arr.length; i++) {
            if (bc_arr[i][0] == '*') {
                bc += '<li class="active">' + bc_arr[i][1] + '</li>';
            } else {
                bc += '<li><a href="' + bc_arr[i][0] + '">' + bc_arr[i][1] + '</a><span class="divider">/</span></li>';
            }
        }
        return bc;
    }
</script>